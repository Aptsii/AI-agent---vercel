# AI ì—ì´ì „íŠ¸ ë°°í¬ ë° ì›¹ì‚¬ì´íŠ¸ ì ìš© ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” ë¡œì»¬ì—ì„œ ì‹¤í–‰ë˜ëŠ” AI ì—ì´ì „íŠ¸ ì„œë²„ë¥¼ í´ë¼ìš°ë“œì— ë°°í¬í•˜ê³ , ì‹¤ì œ ìš´ì˜ ì¤‘ì¸ ì›¹ì‚¬ì´íŠ¸ì— ì ìš©í•˜ëŠ” ì „ì²´ ê³¼ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.

---

## ğŸ“š 1ë¶€: ê°œë… ì´í•´í•˜ê¸° - Dockerë€ ë¬´ì—‡ì¸ê°€?

ë°°í¬ë¥¼ í•˜ë ¤ë©´ ë¨¼ì € Dockerì— ëŒ€í•´ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. DockerëŠ” ë°°í¬ ê³¼ì •ì„ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” í•µì‹¬ ê¸°ìˆ ì…ë‹ˆë‹¤.

### Docker, ì™œ í•„ìš”í•œê°€ìš”?

- **ë¬¸ì œì **: "ì œ ì»´í“¨í„°ì—ì„œëŠ” ì˜ ë˜ëŠ”ë°, ì™œ ì„œë²„ ì»´í“¨í„°ì—ì„œëŠ” ì˜¤ë¥˜ê°€ ë‚˜ì£ ?"
- **ì›ì¸**: ë‚´ ì»´í“¨í„°ì™€ ì„œë²„ ì»´í“¨í„°ëŠ” ì„¤ì¹˜ëœ í”„ë¡œê·¸ë¨ ë²„ì „, ì„¤ì • ë“± í™˜ê²½ì´ ë¯¸ì„¸í•˜ê²Œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
- **Dockerì˜ í•´ê²°ì±…**: ìš°ë¦¬ AI ì„œë²„ ì½”ë“œ, ì„¤ì¹˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤(`fastapi`, `langchain` ë“±), ì‹¬ì§€ì–´ íŒŒì´ì¬ í”„ë¡œê·¸ë¨ ìì²´ë¥¼ **í•˜ë‚˜ì˜ "ì†Œí”„íŠ¸ì›¨ì–´ ì»¨í…Œì´ë„ˆ"ì— í†µì§¸ë¡œ ë‹´ì•„ í¬ì¥**í•©ë‹ˆë‹¤.

ì´ "ì»¨í…Œì´ë„ˆ"ëŠ” ì–´ë””ë¡œ ì˜®ê¸°ë“  ë‚´ìš©ë¬¼ì´ ë³€í•˜ì§€ ì•ŠëŠ” ì™„ë²½í•œ ì´ì‚¿ì§ ë°•ìŠ¤ì™€ ê°™ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë‚´ ì»´í“¨í„°ì—ì„œ ì´ ë°•ìŠ¤ë¥¼ ë§Œë“¤ì–´ í´ë¼ìš°ë“œ ì„œë²„ë¡œ ì˜®ê¸°ë©´, í™˜ê²½ì´ ë‹¬ë¼ì„œ ìƒê¸°ëŠ” ì˜¤ë¥˜ê°€ ì ˆëŒ€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### `Dockerfile` ìƒì„¸ ë¶„ì„

`Dockerfile`ì€ ì´ "ì´ì‚¿ì§ ë°•ìŠ¤"ë¥¼ ì–´ë–»ê²Œ ë§Œë“¤ì§€ ì ì–´ë†“ì€ **ìƒì„¸í•œ í¬ì¥ ì„¤ëª…ì„œ**ì…ë‹ˆë‹¤. Render ê°™ì€ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ëŠ” ì´ ì„¤ëª…ì„œë¥¼ ë³´ê³  ê·¸ëŒ€ë¡œ ë”°ë¼ì„œ ìš°ë¦¬ë¥¼ ìœ„í•œ ì„œë²„ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.

ì•„ë˜ëŠ” ìš°ë¦¬ê°€ ë§Œë“  `Dockerfile`ì˜ ê° ì¤„ì´ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ ì„¤ëª…í•œ ê²ƒì…ë‹ˆë‹¤.

```dockerfile
# 1. ê¸°ë°˜ ì´ë¯¸ì§€ ì„¤ì • ("ì–´ë–¤ ì¢…ë¥˜ì˜ ì»´í“¨í„°ë¥¼ ì¤€ë¹„í• ê¹Œ?")
# íŒŒì´ì¬ 3.11 ë²„ì „ì´ ë¯¸ë¦¬ ì„¤ì¹˜ëœ, ê°€ë³ê³  ê¹¨ë—í•œ ë¦¬ëˆ…ìŠ¤ ì»´í“¨í„°ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.
FROM python:3.11-slim

# 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì • ("ì–´ë””ì— ì§ì„ í’€ê¹Œ?")
# ì´ ì»´í“¨í„° ì•ˆì— ì•ìœ¼ë¡œ ì‘ì—…í•  ê¸°ë³¸ í´ë”ë¥¼ '/app'ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤.
WORKDIR /app

# 3. í™˜ê²½ ì„¤ì • (ì»´í“¨í„° ìµœì í™”)
# ë¶ˆí•„ìš”í•œ íŒŒì¼ ìƒì„±ì„ ë§‰ê³ , í”„ë¡œê·¸ë¨ ì¶œë ¥ì´ ë°”ë¡œë°”ë¡œ ë³´ì´ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
ENV PYTHONDONTWRITEBYTECODE 1
ENV PYTHONUNBUFFERED 1

# 4. uv ì„¤ì¹˜ ("ê°€ì¥ ë¹ ë¥¸ ì„¤ì¹˜ ë„êµ¬ ì¤€ë¹„")
# íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ì„¤ì¹˜í•˜ê¸° ìœ„í•´, 'uv'ë¼ëŠ” ì•„ì£¼ ë¹ ë¥¸ ì„¤ì¹˜ í”„ë¡œê·¸ë¨ì„ ë¨¼ì € ì„¤ì¹˜í•©ë‹ˆë‹¤.
RUN pip install uv

# 5. ì˜ì¡´ì„± íŒŒì¼ ë³µì‚¬ ë° ì„¤ì¹˜ ("ì„¤ì¹˜ ì„¤ëª…ì„œëŒ€ë¡œ ë¶€í’ˆ ì¡°ë¦½")
# ë¨¼ì € ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡ì´ ì íŒ 'ì„¤ì¹˜ ì„¤ëª…ì„œ'(pyproject.toml, uv.lock)ë¥¼ ì»´í“¨í„°ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
COPY pyproject.toml uv.lock ./
# 'uv'ë¥¼ ì´ìš©í•´ ì„¤ëª…ì„œì— ì íŒ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì»´í“¨í„°ì— ì„¤ì¹˜í•©ë‹ˆë‹¤.
RUN uv sync --system

# 6. ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬ ("ìš°ë¦¬ í”„ë¡œê·¸ë¨ ì˜®ê¸°ê¸°")
# ì´ì œ ìš°ë¦¬ì˜ ì‹¤ì œ AI ì—ì´ì „íŠ¸ ì†ŒìŠ¤ ì½”ë“œ(src í´ë” ì „ì²´)ë¥¼ ì»´í“¨í„°ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤.
COPY src ./src

# 7. ì„œë²„ ì‹¤í–‰ ("ë§ˆì§€ë§‰ìœ¼ë¡œ ì„œë²„ ì¼œê¸°")
# ëª¨ë“  ì¤€ë¹„ê°€ ëë‚¬ìœ¼ë‹ˆ, ì´ ì»´í“¨í„°ê°€ ì¼œì§€ë©´ ìë™ìœ¼ë¡œ ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì„œ AI ì„œë²„ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
# --host 0.0.0.0 : ì»´í“¨í„°ì˜ ì–´ë–¤ ì£¼ì†Œë¡œë“  ì ‘ì†ì„ í—ˆìš©í•©ë‹ˆë‹¤. (ê³µê°œ ì ‘ì†ìš©)
# --port $PORT : í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤(Render)ê°€ ì§€ì •í•´ì£¼ëŠ” í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
CMD ["uvicorn", "coding_expert_agent.api:app", "--host", "0.0.0.0", "--port", "$PORT"]
```

> **ê²°ë¡ :** ì´ `Dockerfile` ë•ë¶„ì—, ìš°ë¦¬ëŠ” Render.comì— "ì´ ì„¤ëª…ì„œëŒ€ë¡œ ì„œë²„ í•˜ë‚˜ ë§Œë“¤ì–´ì¤˜!" ë¼ê³  ë§í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ë³µì¡í•œ ì„œë²„ ì„¤ì •ì€ Renderì™€ Dockerê°€ ì•Œì•„ì„œ ì „ë¶€ ì²˜ë¦¬í•´ì¤ë‹ˆë‹¤.

---

## ğŸš€ 2ë¶€: AI ì„œë²„ ë°°í¬í•˜ê¸° (Render.com ê¸°ì¤€)

ì´ì œ Dockerë¡œ ìš°ë¦¬ AI ì„œë²„ë¥¼ ì–´ë–»ê²Œ í¬ì¥í•˜ëŠ”ì§€ ì´í•´í–ˆìœ¼ë‹ˆ, ì‹¤ì œë¡œ í´ë¼ìš°ë“œì— ë°°í¬í•´ ë³´ê² ìŠµë‹ˆë‹¤.

### 1ë‹¨ê³„: ë°°í¬ ì¤€ë¹„ (GitHub)

1.  **GitHub ì €ì¥ì†Œ ìƒì„±**: ì´ í”„ë¡œì íŠ¸ ì½”ë“œ(Dockerfile í¬í•¨)ë¥¼ ë³¸ì¸ì˜ GitHub ê³„ì •ì— ìƒˆë¡œìš´ ì €ì¥ì†Œ(Repository)ë¡œ ë§Œë“¤ì–´ `push` í•´ë‘ì–´ì•¼ í•©ë‹ˆë‹¤.
2.  **`.gitignore` í™•ì¸**: `.env` íŒŒì¼ì€ ì ˆëŒ€ GitHubì— ì˜¬ë¦¬ë©´ ì•ˆ ë©ë‹ˆë‹¤.

### 2ë‹¨ê³„: Render.comì—ì„œ ë°°í¬ ì‹¤í–‰í•˜ê¸°

1.  **Render ê°€ì… ë° ëŒ€ì‹œë³´ë“œ ì´ë™**: [Render.com](https://render.com/)ì— GitHub ê³„ì •ìœ¼ë¡œ ê°€ì…í•˜ê³  ë¡œê·¸ì¸í•©ë‹ˆë‹¤.
2.  **ìƒˆë¡œìš´ ì›¹ ì„œë¹„ìŠ¤ ìƒì„±**:
    - **[New +]** > **[Web Service]**ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
    - ì¤€ë¹„í•œ GitHub ì €ì¥ì†Œë¥¼ ì°¾ì•„ **[Connect]** ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤.
3.  **ë°°í¬ ì„¤ì •í•˜ê¸°**:
    - **Name**: ì„œë¹„ìŠ¤ ì´ë¦„ì„ ì •í•©ë‹ˆë‹¤. (ì˜ˆ: `my-coding-agent`)
    - **Runtime**: **`Docker`**ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. (Renderê°€ `Dockerfile`ì„ ë³´ê³  ìë™ìœ¼ë¡œ ì¶”ì²œ)
    - **Free Plan**: **`Free`** í”Œëœì„ ì„ íƒí•©ë‹ˆë‹¤.
4.  **í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ê°€ì¥ ì¤‘ìš”!)**:
    - **[Advanced]** ì„¹ì…˜ì„ ì—´ê³  **[Add Environment Variable]** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.
    - **Key**: `GOOGLE_API_KEY`
    - **Value**: ë³¸ì¸ì˜ **Google Gemini API í‚¤**
5.  **ë°°í¬ ì‹œì‘**:
    - **[Create Web Service]** ë²„íŠ¼ì„ ëˆ„ë¦…ë‹ˆë‹¤.
    - ë°°í¬ê°€ ì™„ë£Œë˜ë©´, í˜ì´ì§€ ìƒë‹¨ì— `https://my-coding-agent.onrender.com` ê³¼ ê°™ì€ ê³µê°œ ì£¼ì†Œê°€ ìƒì„±ë©ë‹ˆë‹¤.

---

## ğŸŒ 3ë¶€: ì›¹ì‚¬ì´íŠ¸ì— ì ìš©í•˜ê¸°

ë°°í¬ê°€ ì™„ë£Œë˜ì–´ ì–»ì€ ê³µê°œ ì£¼ì†Œë¥¼ ì‹¤ì œ ì›¹ì‚¬ì´íŠ¸ì˜ JavaScript ì½”ë“œì— ì ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

### JavaScript `fetch` ì½”ë“œ ìˆ˜ì •

ì›¹ì‚¬ì´íŠ¸ì—ì„œ AI ì„œë²„ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì˜ ì£¼ì†Œë§Œ **Renderì—ì„œ ë°›ì€ ê³µê°œ ì£¼ì†Œ**ë¡œ ë³€ê²½í•˜ë©´ ë©ë‹ˆë‹¤.

- **ìˆ˜ì • ì „ (ë¡œì»¬)**: `fetch('http://127.0.0.1:8000/ask', ...)`
- **ìˆ˜ì • í›„ (ë°°í¬)**: `fetch('https://my-coding-agent.onrender.com/ask', ...)`

### ì „ì²´ ì˜ˆì œ (`index.html`)

(ì´ì „ê³¼ ë™ì¼í•œ ì˜ˆì œ ì½”ë“œ...)

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>AI ì—ì´ì „íŠ¸ ì—°ë™ ì˜ˆì œ</title>
  </head>
  <body>
    <h1>AI ì—ì´ì „íŠ¸ì—ê²Œ ì§ˆë¬¸í•˜ê¸°</h1>
    <input
      type="text"
      id="question-input"
      placeholder="ì—¬ê¸°ì— ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”..."
    />
    <button id="ask-button" onclick="askAI()">ì§ˆë¬¸ ë³´ë‚´ê¸°</button>
    <h2>AI ë‹µë³€:</h2>
    <div
      id="answer-box"
      style="white-space: pre-wrap; background-color: #f5f5f5; padding: 15px;"
    >
      ë‹µë³€ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
    </div>
    <script>
      async function askAI() {
        const questionInput = document.getElementById("question-input");
        const answerBox = document.getElementById("answer-box");
        const askButton = document.getElementById("ask-button");
        const question = questionInput.value;
        if (!question) {
          alert("ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
          return;
        }
        answerBox.innerText = "AIê°€ ìƒê° ì¤‘ì…ë‹ˆë‹¤...";
        askButton.disabled = true;
        try {
          // ğŸ’¡ ë°”ë¡œ ì´ ì£¼ì†Œë¥¼ Renderì—ì„œ ë°›ì€ ê³µê°œ ì£¼ì†Œë¡œ ë°”ê¿”ì£¼ì„¸ìš”!
          const API_ENDPOINT = "http://127.0.0.1:8000/ask";
          const response = await fetch(API_ENDPOINT, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ question: question }),
          });
          if (!response.ok) {
            throw new Error(`ì„œë²„ ì˜¤ë¥˜: ${response.statusText}`);
          }
          const data = await response.json();
          answerBox.innerText = data.answer;
        } catch (error) {
          answerBox.innerText = `ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}`;
        } finally {
          askButton.disabled = false;
        }
      }
    </script>
  </body>
</html>
```

ì´ ê°€ì´ë“œë¥¼ í†µí•´ ì„±ê³µì ìœ¼ë¡œ AI ì—ì´ì „íŠ¸ë¥¼ ë°°í¬í•˜ê³  ì›¹ì‚¬ì´íŠ¸ì— ì ìš©í•˜ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤!